<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <title>La calidad de la ense√±anza y GitHub Actions</title>
    
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/extra.css">
    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/qa-uni.css">
    
    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="lib/css/monokai.css">
    
    <!-- Printing and PDF exports -->
    <script>
     var link = document.createElement( 'link' );
     link.rel = 'stylesheet';
     link.type = 'text/css';
     link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
     document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
	<section data-background='https://live.staticflickr.com/4521/38463846041_6813a4981a_k_d.jpg'>
          <h1>La calidad de la ense√±anza</h1>
          <h2>Y las acciones de GitHub</h2>
          <h1><code>@jjmerelo</code></h1>
          <h2>Im√°genes y texto <code>cc-by-sa</code></h2>

        </section>
        
	<section
      data-background='https://live.staticflickr.com/1708/26710751635_18abe04af6_k_d.jpg'><h1>Aprendiendo inform√°tica
          en el siglo XXI</h1>
          <aside class='notes'>O aprendiendo en el siglo XIX, versi√≥n 3.0</aside>
        </section>

        <section
          data-background='https://live.staticflickr.com/4754/26422150708_115afeb99d_k_d.jpg'>
          <h1>Programando en el siglo XXI</h1>
          <aside class='notes'>Procesos √°giles, integraci√≥n continua,
            calidad y seguridad como preocupaci√≥n integral</aside>
        </section>

	<section data-background='https://live.staticflickr.com/7914/46806908884_b4df834428_k_d.jpg'>
	  <h2><code>@jjmerelo</code> üûú <code>github.com/JJ</code></h2>
	  <h1 class='fragment'><em>Documentator</em> en Raku</h1>
	  <h2 class='fragment'><em>Profe en UGR</em></h2>
 	</section>

	<section data-background='img/clase-magistral.jpg'>
	  <h2>Ense√±anza: asegurar la calidad del aprendizaje del estudiante</h2>
	</section>

	<section data-background='img/calidad.jpg'>
	  <h1>Calidad en <em>software</em>: Inherente al proceso</h1>
	</section>

	<section data-background='https://live.staticflickr.com/4304/35505034790_36084effcd_o_d.jpg'>
	  <h2>¬øPodemos aplicar una gesti√≥n de calidad a la ense√±anza...</h2>
	  <h1 class='fragment'>... de la Inform√°tica...</h1>
	  <h3 class='fragment'>... que escale?</h3>
	  <aside class='notes'>Ah, si pudi√©ramos ejecutar los programas de los estudiantes a ver si dan el resultado correcto, cuanto tiempo ahorrar√≠amos</aside>
	</section>

	<section>
          <section data-background='https://live.staticflickr.com/5113/6952265916_6c4e0a769f_h_d.jpg'><h1>La ense√±anza es como el desarrollo de software</h1></section>
	  <section data-background='img/historias-usuario.jpg'>
	    <h1>Material de clase: historias de usuario</h1>
	    <aside class='notes'>El material de clase debe ser las especificaciones para lo que hay que aprender.</aside>
	  </section>
	  
	  <section data-background='https://live.staticflickr.com/1762/28525408487_c3fa460cb1_k_d.jpg'><h1>Proceso de aprendizaje: proyecto</h1>
	    <aside class='notes'>El estudiante participa en ese proyecto y es el product manager, pero s√≥lo de una parte de ese proyecto.</aside>
	  </section>

	  <section data-background='https://live.staticflickr.com/915/43234622041_04c8ea5307_k_d.jpg'>
	    <h1>Entrega: fusi√≥n con <em>m√°ster</em></h1>
	    <h2 class='master'>Evaluaci√≥n: <em>code review</em>
	    </h2>
	  </section>

	  <section data-background='https://live.staticflickr.com/1746/41932481304_46959ca0d0_k_d.jpg'>
	    <h1>Aprobado: pasar los criterios de aceptaci√≥n</h1>
	  </section>

	  <section data-background='img/manos-obra.jpg'>
	    <h1>¬°Manos a la obra!</h1>
            <aside class='notes'>Hay que ponerlo en pr√°ctica. La
	    teor√≠a est√° bien, pero si no lo pones en pr√°ctica, y
	      adem√°s con un <em>progressive rollout</em>, no sirve
	      absolutamente de nada.</aside>
	  </section>
	</section>

	<section> <!-- Material de clase -->
	  <section data-background='https://live.staticflickr.com/9/13720853_0e4f9fc2f8_o_d.jpg'>
            <h1>Material de clase de calidad</h1>
            <h2 class='fragment'>Y libre, por supuesto...</h2>
	    <aside class='notes'>Por lo menos, que no tenga faltas de ortograf√≠a y que los enlaces se mantengan al d√≠a. Gesti√≥n de enlaces es manual (porque cuando falla el enlace tienes que decidir qu√© hacer, pero la ortograf√≠a...</aside>
	  </section>

	  <section data-transition='fade'><h2>La calidad no s√≥lo est√°
            en el plato</h2>
            <img src='img/CC-ci-0.png' alt='Integraci√≥n continua para la asignatura'></section>
	    <section data-transition='fade'>><h2>Sino en la mesa</h2>
              <img src='img/CC-ci-1.png' alt='Integraci√≥n continua en Perl'>
	    <aside class='notes'>Se usa una biblioteca en Perl, que est√° publicada en CPAN, <code>Test::Text</code>, que comprueba la ortograf√≠a en Markdown. Esta biblioteca la cre√© para comprobar la ortograf√≠a de las novelas que escrib√≠a, pero al final resulta bastante √∫til para todo esto.</aside>
	  </section>
	</section>

	<section><!-- Env√≠os de los estudiantes -->
	  <section data-background='https://live.staticflickr.com/3572/3284465155_47f6f53ece_k_d.jpg'><h1>Ense√±anza basada en proyecto</h1>
	    <aside class='notes'>La ense√±anza memor√≠stica y la
	  ense√±anza basada en plantillas est√° matando las ganas de
	  programar de la gente. Con un proyecto ves el avance, y
	  tienes que usar las herramientas de un sitio de gesti√≥n de
	  fuentes para avanzar el proyecto.</aside>
	  </section>

          <section><h1>Hitos ‚Üí <em>Pull Requests</em> </h1>
            <img src='img/pr.png' alt='Un PR cualesquiera'>
          </section>

          <section><h1>¬øCumple los criterios de aceptaci√≥n?</h1>
            <img src='img/checks.png' alt='Comprobando un PR'>
          </section>

           <section><h1>Os presento las acciones de GitHub</h1>
            <img src='img/checks-hl.png' alt='Comprobando un PR'>
          </section>

	</section>

        <section><!-- Acciones de GitHub -->
          <section
          data-background='https://live.staticflickr.com/8103/8659404697_f90841fe3b_c.jpg'><h1>GH
            Actions: gesti√≥n de flujos de trabajo</h1>
          </section>
          <section data-background='https://live.staticflickr.com/3601/3325334629_0d0c7df75f_k_d.jpg'>
            <h1>Configuraci√≥n en YAML</h1>
            <h2 class='fragment'>+ runtime Node </h2>
            <h2 class='fragment'>+ Docker </h2>
            <aside class='notes'>GH lanza un contenedor para cada
              comprobaci√≥n, con un m√°ximo de unas docenas simult√°neas.</aside>
          </section>

          <section><h1>Criterios b√°sicos de aceptaci√≥n</h1>
            <img src='img/basico.png' alt='Criterios b√°sicos'>
            <aside class='notes'>Los criterios b√°sicos son que haya
            modificado una sola l√≠nea de un s√≥lo fichero y que haya
            borrado lo que no corresponda de la plantilla,
              specialmente donde pone "b√≥rrame"</aside>
              
          </section>

          <section><pre><code>name: "Comprobaciones b√°sicas"
on: [pull_request]
jobs:
  check_pr:
    runs-on: ubuntu-latest
    steps:
    - name: Comprobaciones IV
      uses: JJ/github-pr-contains-action@releases/v2
      with:
        github-token: ${{github.token}}
        bodyContains: "] Prometo"
        bodyDoesNotContain: "Borrar"
        filesChanged: 1</code></pre>
            <h3 class='fragment' data-code-focus='10'>API de GitHub</h3>
            <aside class='notes'>Esta es la configuraci√≥n de la acci√≥n
        b√°sica. Lo interesante es que puede hacer comprobaciones sobre
        el propio cuerpo del PR, lo que no se puede con sistemas de
        integraci√≥n continua habituales. Y necesita saber qu√© ha
              cambiado el √∫ltimo commit, as√≠ que usa el API de
              GitHub.</aside>
            
          </section>
        </section>

        <section><!-- Profe = QA engineer -->
          <section data-background='https://live.staticflickr.com/708/20561091204_f56269506a_k_d.jpg'><h1>¬øQu√© es el profe?</h1>
          </section>

          <section
        data-background='https://live.staticflickr.com/7041/6796986360_2f7832e00b_o_d.jpg'><h1>El
            que escribe los tests</h1>
            <aside class='notes'>Y tambi√©n pone reviews en los PRs en
              caso de que est√©n un poco despistados.</aside>
          </section>

          <section><h1>En <a href='https://github.com/JJ/github-pr-contains-action/blob/master/src/main.ts'>TypeScript</a></h1>
            <pre><code>//... m√°s cosas
        const diffContains = core.getInput('diffContains')
	const diff_url = context.payload.pull_request.diff_url
	const result = await github.request( diff_url )
	const files = parse(result.data)
	const filesChanged = +core.getInput('filesChanged')
	if ( filesChanged && files.length != filesChanged ) {
            core.setFailed( "You should change exactly " + filesChanged + " file(s)");
	}
// ... m√°s cosas
            </code></pre>
            <h3 class='fragment' data-code-focus='4'>Usa el API</h3>

            <aside class='notes'>Que se haga en TypeScript supongo que
            es porque los ejemplos vienen en ese lenguaje. Esa acci√≥n
            se tiene que compilar a Node, que es lo que se ejecuta. Y
            la puedes usar directamente, o bien copiarla a una rama,
            que es la que se va a descargar a la hora de ejecutar la
            acci√≥n. La rama se descarga completa, por lo que tienes
              que incluir todos los m√≥dulos node que necesites</aside>
          </section>

          <section><h1>Creando un ecosistema</h1>
            <pre><code>if ( changes.indexOf( diffContains ) < 0 ) {
            core.setFailed( "The added code does not contain " + diffContains);
	} else {
            core.exportVariable('diff',changes )
            core.setOutput('diff',changes )
	}
            </code></pre>
            <h3 class='fragment' data-code-focus='4'>Exportando variables</h3>
            <aside class='notes'>Con eso creamos una serie de
              variables que vamos a usar m√°s adelante</aside>
          </section>
        </section>
      </div>
    </div>
    
    <script src="js/reveal.js"></script>
    
    <script>
     // More info about config & dependencies:
     // - https://github.com/hakimel/reveal.js#configuration
     // - https://github.com/hakimel/reveal.js#dependencies
     Reveal.initialize({
       width: '95%',
       controls: true,
       progress: true,
       history: true,
       dependencies: [
	 { src: 'plugin/notes/notes.js', async: true },
	 { src: 'plugin/highlight/highlight.js', async: true },
         { src: 'node_modules/reveal-code-focus/reveal-code-focus.js',
           async: true,
           callback: function() {
             RevealCodeFocus();
           }
         }
       ]
     });
    </script>
  </body>
</html>
